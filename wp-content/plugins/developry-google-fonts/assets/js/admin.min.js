(function(e){plugin={$:jQuery,typefaces:{roboto:"Roboto","roboto-condensed":"Roboto Condensed","roboto-slab":"Roboto Slab","roboto-mono":"Roboto Mono","open-sans":"Open Sans","open-sans-condensed":"Open Sans Condensed",lato:"Lato",montserrat:"Montserrat","montserrat-alternates":"Montserrat Alternates","montserrat-subrayada":"Montserrat Subrayada",oswald:"Oswald","source-sans-pro":"Source Sans Pro","source-serif-pro":"Source Serif Pro","source-code-pro":"Source Code Pro","slabo-27px":"Slabo 27px","slabo-13px":"Slabo 13px",raleway:"Raleway","raleway-dots":"Raleway Dots","pt-sans":"PT Sans","pt-sans-caption":"PT Sans Caption","pt-sans-narrow":"PT Sans Narrow","pt-serif":"PT Serif","pt-serif-caption":"PT Serif Caption",merriweather:"Merriweather","merriweather-sans":"Merriweather Sans",ubuntu:"Ubuntu","ubuntu-condensed":"Ubuntu Condensed","ubuntu-mono":"Ubuntu Mono","noto-sans":"Noto Sans","noto-serif":"Noto Serif",poppins:"Poppins","playfair-display":"Playfair Display","playfair-display-sc":"Playfair Display SC",lora:"Lora","titillium-web":"Titillium Web",arimo:"Arimo",multi:"Muli","fira-sans":"Fira Sans","fira-sans-condensed":"Fira Sans Condensed","fira-sans-extra-condensed":"Fira Sans Extra Condensed","fira-mono":"Fira Mono"},styles:{100:"Thin","100i":"Thin Italic",200:"Extra Light","200i":"Extra Light Italic",300:"Light","300i":"Light Italic",400:"Regular","400i":"Regular Italic",500:"Medium","500i":"Medium Italic",600:"Semi Bold","600i":"Semi Bold Italic",700:"Bold","700i":"Bold Italic",800:"Extra Bold","800i":"Extra Bold Italic",900:"Black","900i":"Black Italic"}},plugin.add_toolbar_message=function(){e("<div/>").attr("class","web-fonts-loader-custom-toolbar-message").html('<span class="tinymce-toolbar-hint" title="Click on editor element to see the font fiamly/weight/style; Double click to select the whole element for update.">\n        <strong>Hint</strong> Click on editor element to see the font <em>fiamly/weight/style</em>; Double click to select the whole element for update.\n      </span>').insertAfter("#insert-media-button")},plugin.apply_font=function(t,a,n){var o="",s=t.selection.getContent({format:"html"});s||(s=t.getBody().innerHTML);var l=e.parseHTML(s);e.each(l,function(t,s){3===e(s).get(0).nodeType?o+=`<span class="mce-ga mce-${a}-${n}">${e(s).get(0).nodeValue}</span>`:"SPAN"===e(s).get(0).tagName?(e(s).get(0).className.match(/(^|\s)mce-family-\S+/g)&&e(s).get(0).className.match(/(^|\s)mce-styles-\S+/g)?e(s).get(0).className="mce-ga  mce-"+a+"-"+n:e(s).get(0).className+=" mce-"+a+"-"+n,o+=`<span class="${e(s).get(0).className}">${e(s).get(0).innerHTML}</span>`):(e(s).hasClass("mce-ga")?("family"===a&&(e(s).removeClass(function(e,t){return(t.match(/(^|\s)mce-family-\S+/g)||[]).join(" ")}),e(s).addClass("mce-ga mce-"+a+"-"+n)),"styles"===a&&(e(s).removeClass(function(e,t){return(t.match(/(^|\s)mce-styles-\S+/g)||[]).join(" ")}),e(s).addClass("mce-ga mce-"+a+"-"+n))):e(s).addClass("mce-ga mce-"+a+"-"+n),o+=s.outerHTML)}),t.selection.getContent({format:"html"})?t.selection.setContent(o,{format:"html"}):t.setContent(o,{format:"html"})},plugin.load_button_values=function(t,a,n){var o=[];return"family"===a?o.push({text:"Select typeface...",value:"",onclick:function(e){alert("Make a selection and then choose your font typeface...")}}):"styles"===a&&o.push({text:"Select weight & style...",value:"",onclick:function(e){alert("Make a selection and then choose your font weight & style...")}}),e.each(n,function(e,n){o.push({text:n,classes:a+"-"+e,value:e,onclick:function(){plugin.apply_font(t,a,e)}})}),o},plugin.change_button_node=function(t,a,n){t.on("NodeChange",function(o){var s=[];if(e(o.element).hasClass("mce-ga")){var l=e(o.element).attr("class").replace("mce-ga","").replace("mce-family-","").replace("mce-styles-","").trim().split(" ");s.push(l),t.value&&("family"===a?n.hasOwnProperty(s[0][0])?t.value(s[0][0]):t.value(s[0][1]):"styles"===a&&(n.hasOwnProperty(s[0][1])?t.value(s[0][1]):t.value(s[0][0])))}s.length||t.value("")})},plugin.editor=function(){this.add_toolbar_message(),tinymce.create("tinymce.plugins.DGF",{init:function(t,a){var n=plugin.typefaces,o=plugin.styles;t.on("dblclick",function(a){t.selection.select(e(a.target).get(0))}),t.addButton("web-fonts-loader-typeface-button",{type:"listbox",name:"font-family",icon:"dashicon dashicons-admin-appearance",value:"",onpostrender:function(){plugin.change_button_node(this,"family",n)},values:plugin.load_button_values(t,"family",n)}),t.addButton("web-fonts-loader-style-button",{type:"listbox",name:"font-styles",icon:"dashicon dashicons-filter",value:"",onpostrender:function(){plugin.change_button_node(this,"styles",o)},values:plugin.load_button_values(t,"styles",o)})}}),tinymce.PluginManager.add("web-fonts-loader",tinymce.plugins.DGF)},plugin.editor()})(jQuery);